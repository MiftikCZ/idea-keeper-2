import{p as c,o as e,d as i,g as d,h as v,T as y,q as k}from"./index-bf25b342.js";function I({setAddFromCommand:t}){let[n,r]=c("...");function s(){let l=new Date;r(l.getHours()+":"+l.getMinutes())}let a=setInterval(()=>s,1e3);return s(),e(i,{children:[e("style",{children:`
        #appWrapper {
            filter: blur(10px);
        }
    `}),e("div",{class:"lock",onClick:()=>{clearInterval(a),t(e(i,{}))},children:[e("div",{class:"title",children:d().user}),e("div",{class:"description",children:["Hello, The time is ",n]})]})]})}function C({children:t}){return e("div",{class:"command_container",children:t})}function w({setAddFromCommand:t,todos:n,settodos:r}){let[s,a]=c("");return e(C,{children:[e("h1",{children:"Save photos with links"}),e("textarea",{cols:30,rows:10,onInput:l=>{var o;a((o=l==null?void 0:l.target)==null?void 0:o.value)},placeholder:"split with new line"}),e("div",{class:"tlacitka",children:[e("button",{class:"done",onClick:()=>{S({content:s.split(`
`).map(l=>`![https://${l.replace("https://","").replace("http://","").replace("://","")}]`).join(" ")},{todos:n,settodos:r}),t(e(i,{}))},children:"Done"}),e("button",{class:"close material-symbols-outlined",onClick:()=>{t(e(i,{}))},children:"close"})]})]})}const h={lock:t=>e(I,{setAddFromCommand:t}),saveimgs:(t,{todos:n,settodos:r})=>e(w,{setAddFromCommand:t,todos:n,settodos:r})};function _(t,n,{todos:r,settodos:s}){let l=t.replace("/","").split(" ")[0];return Object.hasOwn(h,l)?{status:!0,content:h[l](n,{todos:r,settodos:s})}:{status:!1,content:e(i,{})}}function $({input:t,setInput:n}){let r=Object.keys(h).filter(a=>("/"+a).startsWith(t)),s=document.getElementById("addtodoInput");return e(i,{children:[r.length>.9&&e("div",{class:"commands",children:e("div",{class:"list",children:r.map(a=>e("div",{class:"command",onClick:()=>{let l="/"+a+" ";n(l),s.value=l,s.focus()},children:e(i,{children:[e("span",{class:"focus",children:t}),a.replace(t.replace("/",""),"")]})}))})})," "]})}function S({content:t,additional:n},{todos:r,settodos:s}){let a=Date.now().toString(),l={time:a,id:a,content:t,additional:n};s([...r,l]),r=[...r,l],localStorage.setItem("todos",JSON.stringify(r||[]))}function T({todos:t,settodos:n,addFromCommand:r,setAddFromCommand:s}){let[a,l]=c("");function o(){if(a){if(m.useCommands=="true"){let g=_(a,s,{settodos:n,todos:t});if(g.status)return s(g.content)}let u=Date.now().toString(),p={time:u,id:u,content:a,additional:{}};n([...t,p]),l(""),t=[...t,p],localStorage.setItem("todos",JSON.stringify(t||[]));let b=document.getElementById("addtodoInput");b.value=""}}function f(u){l(u.target.value)}let m=d();return e(i,{children:e("div",{class:"addtodo",children:[m.useCommands=="true"&&a.startsWith("/")&&e($,{setInput:l,input:a}),e("button",{class:"button",onClick:o,children:e("span",{class:"material-symbols-outlined icon",children:"add"})}),e("div",{class:"wrap",children:e("input",{id:"addtodoInput",type:"text",placeholder:"what's on your mind?",onInput:f,class:"input"})})]})})}function x({}){let t=d();return e(i,{children:[e("link",{rel:"stylesheet",href:"./themes/"+t.theme+".css"}),e("style",{children:[t.customCss||""," :root ","{","--hue: ",t.hue,";","}",t.useBgImage=="true"?`
        :root {
          ${t.bgOverlay?`--background-overlay: ${t.bgOverlay};`:""}
          --background: url("${t.bgImage}"); 
          --background-blend-mode: ${t.bgBlend};
        }
        `:`
        :root {
          ${t.bgColor&&`--background: ${t.bgColor};
          --background-overlay: ${t.bgColor};`}
        }
        `,t.useNeonText=="true"&&`
        .todo .body {
          background: linear-gradient(45deg,
            hsl(calc(var(--hue) - 40), 50%, 75%),
            hsl(calc(var(--hue) + 40), 50%, 75%));
          /* text-shadow: #fff1 3px 3px 3px; */
          background-clip: text;
          -webkit-text-fill-color: transparent;
        }
        `]}),t.addTheme.replace(/\ /gi,"").split(",").map(n=>{if(n)return e("link",{rel:"stylesheet",href:"./themes/"+n+".css"});e(i,{})})]})}function W({after:t,time:n}){function r(){if(d().showDateInTodos=="true"){let s=Math.floor((Date.now()-parseInt(n))/1e3/60/60/24),a=s?e("span",{class:"datum",children:[s," days"]}):e(i,{});return t?e(i,{children:[" ",e("details",{class:"img_wrap",children:[e("summary",{children:"images"}),e("span",{class:"img_list",children:t})]})," ",a," "]}):e(i,{children:[e("div",{class:"img_wrap"}),a]})}else return t&&e("details",{class:"img_wrap",children:[e("summary",{children:"images"}),e("span",{class:"img_list",children:t})]})}return e("div",{class:"dolu",children:e(r,{})})}function O(t,n){let r,s=0,a=t.split(" ").map(l=>{if(l.startsWith("https://")||l.startsWith("http://"))return`<a href=${l} class="link" target="_blank">${l}</a>`;if((l.startsWith("![https://")||l.startsWith("![http://"))&&l.endsWith("]")){let o=l.replace(/\!\[/g,"").replace(/\]/g,"");return r=e(i,{children:[r,e("img",{src:o,height:"50"})]}),s++,`<a href=${o} class="link" target="_blank">image ${s}</a>`}return l}).join(" ").replace(/\`(.*?)\`/g,"<code>$1</code>").replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\*(.*?)\*/g,"<i>$1 </i>").replace(/\_(.*?)\_/g,"<u>$1</u>");return e(i,{children:[e("span",{class:"text",dangerouslySetInnerHTML:{__html:a}}),e(W,{after:r,time:n})]})}function D({settodos:t,e:n,todos:r}){return e("div",{class:"todo",id:"todo_"+n.id,children:[e("div",{class:"body",children:O(n.content,n.time)}),e("div",{class:"remove",onClick:()=>{t(r.filter(s=>s.id!==n.id))},children:e("span",{class:"material-symbols-outlined icon",children:"delete"})})]})}function B({todos:t,settodos:n}){return e("div",{class:"todos",children:t.length>.1?t.map(r=>e(D,{settodos:n,e:r,todos:t})):e(i,{children:e("h2",{class:"empty",children:"It's quite empty ðŸ˜´"})})})}function M(){let t=localStorage.getItem("todos")||"";t||(localStorage.setItem("todos","[]"),t="");let[n,r]=c(JSON.parse(t||"[]")||[]);n||r([]);let[s,a]=c(e(i,{}));return v(()=>{localStorage.setItem("todos",JSON.stringify(n))},[n]),e(i,{children:[e("span",{id:"appWrapper",children:[e(x,{getConfig:d}),e(y,{isInSettings:!1,howmuch:n.length}),e(B,{todos:n,settodos:r}),e(T,{todos:n,settodos:r,addFromCommand:s,setAddFromCommand:a})]}),e("span",{id:"commandWrapper",children:e("span",{id:"commandContainer",children:s||e(i,{})})})]})}k(e(M,{}),document.getElementById("app"));
