import{p as c,o as e,d as i,g as d,h as b,T as k,q as y}from"./index-86b0e376.js";function I({setAddFromCommand:t}){let[n,r]=c("...");function a(){let l=new Date;r(l.getHours()+":"+l.getMinutes())}let s=setInterval(()=>a,1e3);return a(),e(i,{children:[e("style",{children:`
        #appWrapper {
            filter: blur(10px);
        }
    `}),e("div",{class:"lock",onClick:()=>{clearInterval(s),t(e(i,{}))},children:[e("div",{class:"title",children:d().user}),e("div",{class:"description",children:["Zdravím, ",n]})]})]})}function C({children:t}){return e("div",{class:"command_container",children:t})}function _({setAddFromCommand:t,todos:n,settodos:r}){let[a,s]=c("");return e(C,{children:[e("h1",{children:"Ulož fotky pomocí odkazů"}),e("textarea",{cols:30,rows:10,onInput:l=>{var o;s((o=l==null?void 0:l.target)==null?void 0:o.value)},placeholder:"odděluj novým řádkem"}),e("div",{class:"tlacitka",children:[e("button",{class:"done",onClick:()=>{S({content:a.split(`
`).map(l=>`![https://${l.replace("https://","").replace("http://","").replace("://","")}]`).join(" ")},{todos:n,settodos:r}),t(e(i,{}))},children:"Hotovo"}),e("button",{class:"close",onClick:()=>{t(e(i,{}))},children:"Zavřít"})]})]})}const h={lock:t=>e(I,{setAddFromCommand:t}),saveimgs:(t,{todos:n,settodos:r})=>e(_,{setAddFromCommand:t,todos:n,settodos:r})};function $(t,n,{todos:r,settodos:a}){let l=t.replace("/","").split(" ")[0];return Object.hasOwn(h,l)?{status:!0,content:h[l](n,{todos:r,settodos:a})}:{status:!1,content:e(i,{})}}function w({input:t,setInput:n}){let r=Object.keys(h).filter(s=>("/"+s).startsWith(t)),a=document.getElementById("addtodoInput");return e(i,{children:[r.length>.9&&e("div",{class:"commands",children:e("div",{class:"list",children:r.map(s=>e("div",{class:"command",onClick:()=>{let l="/"+s+" ";n(l),a.value=l,a.focus()},children:e(i,{children:[e("span",{class:"focus",children:t}),s.replace(t.replace("/",""),"")]})}))})})," "]})}function S({content:t,additional:n},{todos:r,settodos:a}){let s=Date.now().toString(),l={time:s,id:s,content:t,additional:n};a([...r,l]),r=[...r,l],localStorage.setItem("todos",JSON.stringify(r||[]))}function T({todos:t,settodos:n,addFromCommand:r,setAddFromCommand:a}){let[s,l]=c("");function o(){if(s){if(p.useCommands=="true"){let g=$(s,a,{settodos:n,todos:t});if(g.status)return a(g.content)}let u=Date.now().toString(),m={time:u,id:u,content:s,additional:{}};n([...t,m]),l(""),t=[...t,m],localStorage.setItem("todos",JSON.stringify(t||[]));let v=document.getElementById("addtodoInput");v.value=""}}function f(u){l(u.target.value)}let p=d();return e(i,{children:e("div",{class:"addtodo",children:[p.useCommands=="true"&&s.startsWith("/")&&e(w,{setInput:l,input:s}),e("button",{class:"button",onClick:o,children:e("span",{class:"material-symbols-outlined icon",children:"add"})}),e("div",{class:"wrap",children:e("input",{id:"addtodoInput",type:"text",placeholder:"napiš svůj nápad...",onInput:f,class:"input"})})]})})}function x({}){let t=d();return e(i,{children:[e("link",{rel:"stylesheet",href:"./themes/"+t.theme+".css"}),e("style",{children:[t.customCss||""," :root ","{","--hue: ",t.hue,";","}",t.useBgImage=="true"?`
        :root {
          ${t.bgOverlay?`--background-overlay: ${t.bgOverlay};`:""}
          --background: url("${t.bgImage}"); 
          --background-blend-mode: ${t.bgBlend};
        }
        `:`
        :root {
          ${t.bgColor&&`--background: ${t.bgColor};
          --background-overlay: ${t.bgColor};`}
        }
        `,t.useNeonText=="true"&&`
        .todo .body {
          background: linear-gradient(45deg,
            hsl(calc(var(--hue) - 40), 50%, 75%),
            hsl(calc(var(--hue) + 40), 50%, 75%));
          /* text-shadow: #fff1 3px 3px 3px; */
          background-clip: text;
          -webkit-text-fill-color: transparent;
        }
        `]}),t.addTheme.replace(/\ /gi,"").split(",").map(n=>{if(n)return e("link",{rel:"stylesheet",href:"./themes/"+n+".css"});e(i,{})})]})}function W({after:t,time:n}){function r(){if(d().showDateInTodos=="true"){let a=Math.floor((Date.now()-parseInt(n))/1e3/60/60/24),s=a?e("span",{class:"datum",children:[a," dny"]}):e(i,{});return t?e(i,{children:[" ",e("details",{class:"img_wrap",children:[e("summary",{children:"příloha"}),e("span",{class:"img_list",children:t})]})," ",s," "]}):e(i,{children:[e("div",{class:"img_wrap"}),s]})}else return t&&e("details",{class:"img_wrap",children:[e("summary",{children:"příloha"}),e("span",{class:"img_list",children:t})]})}return e("div",{class:"dolu",children:e(r,{})})}function O(t,n){let r,a=0,s=t.split(" ").map(l=>{if(l.startsWith("https://")||l.startsWith("http://"))return`<a href=${l} class="link" target="_blank">${l}</a>`;if((l.startsWith("![https://")||l.startsWith("![http://"))&&l.endsWith("]")){let o=l.replace(/\!\[/g,"").replace(/\]/g,"");return r=e(i,{children:[r,e("img",{src:o,height:"50"})]}),a++,`<a href=${o} class="link" target="_blank">obrázek ${a}</a>`}return l}).join(" ").replace(/\`(.*?)\`/g,"<code>$1</code>").replace(/\*\*(.*?)\*\*/g,"<b>$1</b>").replace(/\*(.*?)\*/g,"<i>$1 </i>").replace(/\_(.*?)\_/g,"<u>$1</u>");return e(i,{children:[e("span",{class:"text",dangerouslySetInnerHTML:{__html:s}}),e(W,{after:r,time:n})]})}function D({settodos:t,e:n,todos:r}){return e("div",{class:"todo",id:"todo_"+n.id,children:[e("div",{class:"body",children:O(n.content,n.time)}),e("div",{class:"remove",onClick:()=>{t(r.filter(a=>a.id!==n.id))},children:e("span",{class:"material-symbols-outlined icon",children:"delete"})})]})}function j({todos:t,settodos:n}){return e("div",{class:"todos",children:t.length>.1?t.map(r=>e(D,{settodos:n,e:r,todos:t})):e(i,{children:e("h2",{children:"nic tu není..."})})})}function B(){let t=localStorage.getItem("todos")||"";t||(localStorage.setItem("todos","[]"),t="");let[n,r]=c(JSON.parse(t||"[]")||[]);n||r([]);let[a,s]=c(e(i,{}));return b(()=>{localStorage.setItem("todos",JSON.stringify(n))},[n]),e(i,{children:[e("span",{id:"appWrapper",children:[e(x,{getConfig:d}),e(k,{isInSettings:!1,howmuch:n.length}),e(j,{todos:n,settodos:r}),e(T,{todos:n,settodos:r,addFromCommand:a,setAddFromCommand:s})]}),e("span",{id:"commandWrapper",children:e("span",{id:"commandContainer",children:a||e(i,{})})})]})}y(e(B,{}),document.getElementById("app"));
