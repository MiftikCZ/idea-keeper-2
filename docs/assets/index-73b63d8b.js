import{p as o,o as e,d as s,g as c,h as b,T as k,q as y}from"./index-4d8290c1.js";function I({setAddFromCommand:t}){let[l,r]=o("...");function a(){let i=new Date;r(i.getHours()+":"+i.getMinutes())}let n=setInterval(()=>a,1e3);return a(),e(s,{children:[e("style",{children:`
        #appWrapper {
            filter: blur(10px);
        }
    `}),e("div",{class:"lock",onClick:()=>{clearInterval(n),t(e(s,{}))},children:[e("div",{class:"title",children:c().user}),e("div",{class:"description",children:["Zdravím, ",l]})]})]})}function C({children:t}){return e("div",{class:"command_container",children:t})}function w({setAddFromCommand:t,todos:l,settodos:r}){let[a,n]=o("");return e(C,{children:[e("h1",{children:"Ulož fotky pomocí odkazů"}),e("textarea",{cols:30,rows:10,onInput:i=>{var d;n((d=i==null?void 0:i.target)==null?void 0:d.value)},placeholder:"odděluj novým řádkem"}),e("div",{class:"tlacitka",children:[e("button",{class:"done",onClick:()=>{W({content:a.split(`
`).map(i=>`![https://${i.replace("https://","").replace("http://","").replace("://","")}]`).join(" ")},{todos:l,settodos:r}),t(e(s,{}))},children:"Hotovo"}),e("button",{class:"close",onClick:()=>{t(e(s,{}))},children:"Zavřít"})]})]})}const h={lock:t=>e(I,{setAddFromCommand:t}),saveimgs:(t,{todos:l,settodos:r})=>e(w,{setAddFromCommand:t,todos:l,settodos:r}),reload:()=>{}};function S(t,l,{todos:r,settodos:a}){let i=t.replace("/","").split(" ")[0];return Object.hasOwn(h,i)?{status:!0,content:h[i](l,{todos:r,settodos:a})}:{status:!1,content:e(s,{})}}function T({input:t,setInput:l}){let r=Object.keys(h).filter(n=>("/"+n).startsWith(t)),a=document.getElementById("addtodoInput");return e(s,{children:[r.length>.9&&e("div",{class:"commands",children:e("div",{class:"list",children:r.map(n=>e("div",{class:"command",onClick:()=>{let i="/"+n+" ";l(i),a.value=i,a.focus()},children:e(s,{children:[e("span",{class:"focus",children:t}),n.replace(t.replace("/",""),"")]})}))})})," "]})}function W({content:t,additional:l},{todos:r,settodos:a}){let n=Date.now().toString(),i={time:n,id:n,content:t,additional:l};a([...r,i]),r=[...r,i],localStorage.setItem("todos",JSON.stringify(r||[]))}function _({todos:t,settodos:l,addFromCommand:r,setAddFromCommand:a}){let[n,i]=o("");function d(){if(n){if(p.useCommands=="true"){let g=S(n,a,{settodos:l,todos:t});if(g.status)return a(g.content)}let u=Date.now().toString(),m={time:u,id:u,content:n,additional:{}};l([...t,m]),i(""),t=[...t,m],localStorage.setItem("todos",JSON.stringify(t||[]));let v=document.getElementById("addtodoInput");v.value=""}}function f(u){i(u.target.value)}let p=c();return e(s,{children:e("div",{class:"addtodo",children:[p.useCommands=="true"&&n.startsWith("/")&&e(T,{setInput:i,input:n}),e("button",{class:"button",onClick:d,children:e("span",{class:"material-symbols-outlined icon",children:"add"})}),e("div",{class:"wrap",children:e("input",{id:"addtodoInput",type:"text",placeholder:"napiš svůj nápad...",onInput:f,class:"input"})})]})})}function x({}){let t=c();return e(s,{children:[e("link",{rel:"stylesheet",href:"./themes/"+t.theme+".css"}),e("style",{children:[t.customCss||""," :root ","{","--hue: ",t.hue,";","}",t.useBgImage=="true"?`
        :root {
          ${t.bgOverlay?`--background-overlay: ${t.bgOverlay};`:""}
          --background: url("${t.bgImage}"); 
          --background-blend-mode: ${t.bgBlend};
        }
        `:`
        :root {
          ${t.bgColor&&`--background: ${t.bgColor};
          --background-overlay: ${t.bgColor};`}
        }
        `,t.useNeonText=="true"&&`
        .todo .body {
          background: linear-gradient(45deg,
            hsl(calc(var(--hue) - 40), 50%, 75%),
            hsl(calc(var(--hue) + 40), 50%, 75%));
          /* text-shadow: #fff1 3px 3px 3px; */
          background-clip: text;
          -webkit-text-fill-color: transparent;
        }
        `]}),t.addTheme.replace(/\ /gi,"").split(",").map(l=>{if(l)return e("link",{rel:"stylesheet",href:"./themes/"+l+".css"});e(s,{})})]})}function O({after:t,time:l}){function r(){if(c().showDateInTodos=="true"){let a=Math.floor((Date.now()-parseInt(l))/1e3/60/60/24),n=a?e("span",{class:"datum",children:[a," dny"]}):e(s,{});return t?e(s,{children:[" ",e("details",{class:"img_wrap",children:[e("summary",{children:"příloha"}),e("span",{class:"img_list",children:t})]})," ",n," "]}):e(s,{children:[e("div",{class:"img_wrap"}),n]})}else return t&&e("details",{class:"img_wrap",children:[e("summary",{children:"příloha"}),e("span",{class:"img_list",children:t})]})}return e("div",{class:"dolu",children:e(r,{})})}function $(t,l){let r,a=0;return e(s,{children:[e("span",{class:"text",children:t.split(" ").map(n=>{if(n.startsWith("`")&&n.endsWith("`"))return e(s,{children:[e("code",{children:n.replace(/\`/g,"")})," "]});if(n.startsWith("https://")||n.startsWith("http://"))return e(s,{children:[e("a",{href:n,class:"link",target:"_blank",children:n})," "]});if((n.startsWith("![https://")||n.startsWith("![http://"))&&n.endsWith("]")){let i=n.replace(/\!\[/g,"").replace(/\]/g,"");return r=e(s,{children:[r,e("img",{src:i,height:"50"})]}),a++,e(s,{children:[e("a",{href:i,class:"link",target:"_blank",children:["obrázek ",a]})," "]})}return e(s,{children:[n," "]})})}),e(O,{after:r,time:l})]})}function D({settodos:t,e:l,todos:r}){return e("div",{class:"todo",id:"todo_"+l.id,children:[e("div",{class:"body",children:$(l.content,l.time)}),e("div",{class:"remove",onClick:()=>{t(r.filter(a=>a.id!==l.id))},children:e("span",{class:"material-symbols-outlined icon",children:"delete"})})]})}function j({todos:t,settodos:l}){return e("div",{class:"todos",children:t.length>.1?t.map(r=>e(D,{settodos:l,e:r,todos:t})):e(s,{children:e("h2",{children:"nic tu není..."})})})}function B(){let t=localStorage.getItem("todos")||"";t||(localStorage.setItem("todos","[]"),t="");let[l,r]=o(JSON.parse(t||"[]")||[]);l||r([]);let[a,n]=o(e(s,{}));return b(()=>{localStorage.setItem("todos",JSON.stringify(l))},[l]),e(s,{children:[e("span",{id:"appWrapper",children:[e(x,{getConfig:c}),e(k,{isInSettings:!1,howmuch:l.length}),e(j,{todos:l,settodos:r}),e(_,{todos:l,settodos:r,addFromCommand:a,setAddFromCommand:n})]}),e("span",{id:"commandWrapper",children:e("span",{id:"commandContainer",children:a||e(s,{})})})]})}y(e(B,{}),document.getElementById("app"));
